(this["webpackJsonpadd-network"]=this["webpackJsonpadd-network"]||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),i=n.n(c),o=(n(13),n(3)),s=n.n(o),d=n(4),l=n(2),u=n(7),h=n.n(u),j=n(8),b=n(0),m=function(){var e=Object(r.useState)(void 0),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(void 0),i=Object(l.a)(c,2),o=i[0],s=i[1],d=Object(r.useState)(void 0),u=Object(l.a)(d,2),h=u[0],m=u[1],x=Object(r.useState)(void 0),O=Object(l.a)(x,2),p=O[0],f=O[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Find a bridge between chains"}),p&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"segment error",children:p}),Object(b.jsx)("button",{className:"button errorButton",onClick:function(){return f(void 0)},children:"Clear error and try again"})]}),"From:\xa0",Object(b.jsxs)("select",{onChange:function(e){return a(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:'Select "From" chain'}),Object(b.jsx)("option",{value:"Ethereum",children:"Ethereum"}),Object(b.jsx)("option",{value:"xDai",children:"xDai"}),Object(b.jsx)("option",{value:"Binance Smart Chain",children:"Binance Smart Chain"}),Object(b.jsx)("option",{value:"Matic",children:"Matic"})]}),"\xa0\xa0To:\xa0",Object(b.jsxs)("select",{onChange:function(e){return s(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:'Select "To" chain'}),Object(b.jsx)("option",{value:"Ethereum",children:"Ethereum"}),Object(b.jsx)("option",{value:"xDai",children:"xDai"}),Object(b.jsx)("option",{value:"Binance Smart Chain",children:"Binance Smart Chain"}),Object(b.jsx)("option",{value:"Matic",children:"Matic"})]}),"\xa0\xa0",Object(b.jsx)("button",{className:"button chainButton",onClick:function(){try{if(f(void 0),!n)throw new Error('Plaese select "from" chain');if(!o)throw new Error('Plaese select "to" chain');if(n===o)throw new Error("Plaese select 2 different chains");var e=j.find((function(e){return e.edge1===n&&e.edge2===o||e.edge1===o&&e.edge2===n}));if(m(e),!e)throw new Error("Couldn't find bridge between ".concat(n," and ").concat(o," - try a different route"))}catch(t){f(t.message)}},children:"Find bridge"}),h&&Object(b.jsxs)("div",{className:"chainData",children:["Use the ",Object(b.jsx)("b",{children:h.name})," at ",Object(b.jsx)("a",{target:"_blank",rel:"noreferrer",href:h.url,children:h.url}),h.comment&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Comment:"})," ",h.comment]})]})]})},x=(n(16),function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(void 0),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(void 0),x=Object(l.a)(j,2),O=x[0],p=x[1],f=Object(r.useState)(void 0),v=Object(l.a)(f,2),g=v[0],w=v[1],C=Object(r.useState)(!1),k=Object(l.a)(C,2),S=k[0],E=k[1],B=function(){var e=Object(d.a)(s.a.mark((function e(){var t,r,a,c,i,d,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[o],r=t.chainId,a=t.name,c=t.rpc,i=t.nativeCurrency,d=t.infoURL,l=[1,3,4,42,420].includes(r)?"wallet_updateEthereumChain":"wallet_addEthereumChain",e.prev=2,e.next=5,window.ethereum.request({method:l,params:[{chainId:"0x".concat(r.toString(16)),chainName:a,nativeCurrency:i,rpcUrls:c,blockExplorerUrls:[d]}]});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://chainid.network/chains.json");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).sort((function(e,t){return e.name.localeCompare(t.name)})),a(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),p(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t,r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,t=window,r=t.ethereum){e.next=6;break}throw new Error("Please install a Web3 wallet (like Metamask)");case 6:return r.autoRefreshOnNetworkChange=!1,r.on("accountsChanged",(function(){window.location.reload()})).on("chainChanged",(function(){window.location.reload()})),e.next=10,r.request({method:"net_version"});case 10:a=e.sent,c=n.findIndex((function(e){return e.chainId===parseInt(a,10)})),w(c),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(h.a,{repo:"https://github.com/TravelingTechGuy/add-chain",side:"right",colorBackground:"#7b38d8",colorOctocat:"white"}),Object(b.jsxs)("header",{children:[Object(b.jsx)("img",{src:"https://travelingtechguy.github.io/add-chain/favicon/favicon-32x32.png",alt:"icon",className:"logo"}),Object(b.jsx)("h1",{children:"MetaMask Chains"})]}),Object(b.jsxs)("main",{children:[Object(b.jsx)("h2",{children:"Add a new chain to your MetaMask"}),O&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"segment error",children:O}),Object(b.jsx)("button",{className:"button errorButton",onClick:function(){return p(void 0)},children:"Clear error and try again"})]}),Object(b.jsxs)("div",{className:"segment network",children:["Current network: ",void 0!==g?n[g].name:"Development"]}),Object(b.jsxs)("div",{children:[n.length&&Object(b.jsx)("select",{onChange:function(e){return u(e.target.value)},children:n.map((function(e,t){var n=e.name,r=e.shortName;return Object(b.jsx)("option",{value:t,children:n},r)}))}),o&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{className:"button addButton",onClick:B,children:"Add selected chain"}),Object(b.jsxs)("button",{className:"button chainButton",onClick:function(){return E(!S)},children:[S?"Hide":"Show"," Chain data"]}),S&&Object(b.jsx)("div",{className:"chainData",children:Object(b.jsx)("code",{children:Object(b.jsx)("pre",{children:JSON.stringify(n[o],null,2)})})})]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(m,{})]})]})});i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('[{"name":"Matic Wallet Bridge","edge1":"Ethereum","edge2":"Matic","url":"https://https://wallet.matic.network/bridge/"},{"name":"xDai Omnibridge","edge1":"Ethereum","edge2":"xDai","url":"https://bridge.xdaichain.com/"},{"name":"xDai/Matic Bridge","edge1":"xDai","edge2":"Matic","url":"https://xdai-matic-connext.vercel.app/","comment":"Can only transfer DAI"},{"name":"Omnibridge","edge1":"xDai","edge2":"Binance Smart Chain","url":"https://bsc-to-xdai-omnibridge.web.app/","comment":"Wraps stablecoins. Use https://component.finance/ to unwrap"},{"name":"Binance Bridge","edge1":"Ethereum","edge2":"Binance Smart Chain","url":"https://www.binance.org/en/bridge"}]')}},[[17,1,2]]]);
//# sourceMappingURL=main.e99f4af7.chunk.js.map