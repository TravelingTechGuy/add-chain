(this["webpackJsonpadd-network"]=this["webpackJsonpadd-network"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),o=n.n(c),s=(n(12),n(2)),i=n.n(s),u=n(4),d=n(3),l=n(7),h=n.n(l),j=(n(14),n(0)),b=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(void 0),o=Object(d.a)(c,2),s=o[0],l=o[1],b=Object(r.useState)(void 0),p=Object(d.a)(b,2),f=p[0],v=p[1],m=Object(r.useState)(void 0),x=Object(d.a)(m,2),O=x[0],w=x[1],k=function(){var e=Object(u.a)(i.a.mark((function e(){var t,r,a,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[s],r=t.chainId,a=t.name,c=t.rpc,o=t.nativeCurrency,u=t.infoURL,e.prev=1,e.next=4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat(r.toString(16)),chainName:a,nativeCurrency:o,rpcUrls:c,blockExplorerUrls:[u]}]});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),v(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://chainid.network/chains.json");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).sort((function(e,t){return e.name.localeCompare(t.name)})),a(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),v(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,t=window,r=t.ethereum){e.next=6;break}throw new Error("Please install a Web3 wallet (like Metamask)");case 6:return r.autoRefreshOnNetworkChange=!1,r.on("accountsChanged",(function(){window.location.reload()})).on("chainChanged",(function(){window.location.reload()})),e.next=10,r.request({method:"net_version"});case 10:a=e.sent,c=n.findIndex((function(e){return e.chainId===parseInt(a,10)})),w(c),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),v(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h.a,{repo:"https://github.com/TravelingTechGuy/add-chain",side:"right",colorBackground:"#7b38d8",colorOctocat:"white"}),Object(j.jsxs)("header",{children:[Object(j.jsx)("img",{src:"add-chain/favicon/favicon-32x32.png",alt:"icon",className:"logo"}),Object(j.jsx)("h1",{children:"Add Chain to MetaMask"})]}),Object(j.jsxs)("main",{children:[f&&Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"segment error",children:f}),Object(j.jsx)("button",{className:"button errorButton",onClick:function(){return v(void 0)},children:"Clear error and try again"})]}),Object(j.jsxs)("div",{className:"segment network",children:["Current network: ",void 0!==O?n[O].name:"Development"]}),Object(j.jsxs)("div",{children:[n.length&&Object(j.jsx)("select",{onChange:function(e){return l(e.target.value)},children:n.map((function(e,t){var n=e.name,r=e.shortName;return Object(j.jsx)("option",{value:t,children:n},r)}))}),s&&Object(j.jsx)("button",{className:"button addButton",onClick:k,children:"Add selected chain"})]})]})]})};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.78d04724.chunk.js.map