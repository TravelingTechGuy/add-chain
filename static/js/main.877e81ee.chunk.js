(this["webpackJsonpadd-network"]=this["webpackJsonpadd-network"]||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),i=n.n(c),s=(n(16),n(3)),o=n.n(s),d=n(6),u=n(2),l=n(10),h=n.n(l),b=n(11),j=n(8),m=n.p+"static/media/bridges.8abd48af.svg",g=n(0),f=function(){var e=Object(r.useState)(void 0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(void 0),i=Object(u.a)(c,2),s=i[0],o=i[1],d=Object(r.useState)(void 0),l=Object(u.a)(d,2),h=l[0],f=l[1],O=Object(r.useState)(void 0),p=Object(u.a)(O,2),x=p[0],v=p[1],w=function(){var e=[];return j.forEach((function(t){e.push(t.edge1),e.push(t.edge2)})),Object(b.a)(new Set(e)).sort()}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Find a bridge between chains"}),x&&Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"segment error",children:x}),Object(g.jsx)("button",{className:"button errorButton",onClick:function(){return v(void 0)},children:"Clear error and try again"})]}),"From:\xa0",Object(g.jsxs)("select",{onChange:function(e){return a(e.target.value)},children:[Object(g.jsx)("option",{value:"",children:'Select "From" chain'}),w.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))]}),"\xa0\xa0To:\xa0",Object(g.jsxs)("select",{onChange:function(e){return o(e.target.value)},children:[Object(g.jsx)("option",{value:"",children:'Select "To" chain'}),w.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))]}),"\xa0\xa0",Object(g.jsx)("button",{className:"button chainButton",onClick:function(){try{if(v(void 0),!n)throw new Error('Plaese select "from" chain');if(!s)throw new Error('Plaese select "to" chain');if(n===s)throw new Error("Plaese select 2 different chains");var e=j.find((function(e){return e.edge1===n&&e.edge2===s||e.edge1===s&&e.edge2===n}));if(f(e),!e)throw new Error("Couldn't find bridge between ".concat(n," and ").concat(s," - try a different route"))}catch(t){v(t.message)}},children:"Find bridge"}),h&&Object(g.jsxs)("div",{className:"chainData",children:["Use the ",Object(g.jsx)("b",{children:h.name})," at ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:h.url,children:h.url}),h.comment&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("br",{}),Object(g.jsx)("b",{children:"Comment:"})," ",h.comment]})]}),Object(g.jsx)("div",{className:"drawing",children:Object(g.jsx)("img",{src:m,alt:"bridges visualization"})})]})},O=(n(19),function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(void 0),i=Object(u.a)(c,2),s=i[0],l=i[1],b=Object(r.useState)(void 0),j=Object(u.a)(b,2),m=j[0],O=j[1],p=Object(r.useState)(void 0),x=Object(u.a)(p,2),v=x[0],w=x[1],k=Object(r.useState)(!1),C=Object(u.a)(k,2),S=C[0],N=C[1],E=function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,a,c,i,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[s],r=t.chainId,a=t.name,c=t.rpc,i=t.nativeCurrency,d=t.infoURL,u=[1,3,4,42,420].includes(r)?"wallet_updateEthereumChain":"wallet_addEthereumChain",e.prev=2,e.next=5,window.ethereum.request({method:u,params:[{chainId:"0x".concat(r.toString(16)),chainName:a,nativeCurrency:i,rpcUrls:c,blockExplorerUrls:[d]}]});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0),O(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://chainid.network/chains.json");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).sort((function(e,t){return e.name.localeCompare(t.name)})),a(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),O(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,t=window,r=t.ethereum){e.next=6;break}throw new Error("Please install a Web3 wallet (like Metamask)");case 6:return r.autoRefreshOnNetworkChange=!1,r.on("accountsChanged",(function(){window.location.reload()})).on("chainChanged",(function(){window.location.reload()})),e.next=10,r.request({method:"net_version"});case 10:a=e.sent,c=n.findIndex((function(e){return e.chainId===parseInt(a,10)})),w(c),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),O(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(h.a,{repo:"https://github.com/TravelingTechGuy/add-chain",side:"right",colorBackground:"#7b38d8",colorOctocat:"white"}),Object(g.jsxs)("header",{children:[Object(g.jsx)("img",{src:"https://travelingtechguy.github.io/add-chain/favicon/favicon-32x32.png",alt:"icon",className:"logo"}),Object(g.jsx)("h1",{children:"MetaMask Chains"})]}),Object(g.jsxs)("main",{children:[Object(g.jsx)("h2",{children:"Add a new chain to your MetaMask"}),m&&Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"segment error",children:m}),Object(g.jsx)("button",{className:"button errorButton",onClick:function(){return O(void 0)},children:"Clear error and try again"})]}),Object(g.jsxs)("div",{className:"segment network",children:["Current network: ",void 0!==v?n[v].name:"Development"]}),Object(g.jsxs)("div",{children:[n.length&&Object(g.jsx)("select",{onChange:function(e){return l(e.target.value)},children:n.map((function(e,t){var n=e.name,r=e.shortName;return Object(g.jsx)("option",{value:t,children:n},r)}))}),s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{className:"button addButton",onClick:E,children:"Add selected chain"}),Object(g.jsxs)("button",{className:"button chainButton",onClick:function(){return N(!S)},children:[S?"Hide":"Show"," Chain data"]}),S&&Object(g.jsx)("div",{className:"chainData",children:Object(g.jsx)("code",{children:Object(g.jsx)("pre",{children:JSON.stringify(n[s],null,2)})})})]})]}),Object(g.jsx)("hr",{}),Object(g.jsx)(f,{})]})]})});i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('[{"name":"Matic Wallet Bridge","edge1":"Ethereum","edge2":"Matic","url":"https://https://wallet.matic.network/bridge/"},{"name":"xDai Omnibridge","edge1":"Ethereum","edge2":"xDai","url":"https://bridge.xdaichain.com/"},{"name":"xDai/Matic Bridge","edge1":"xDai","edge2":"Matic","url":"https://xdai-matic-connext.vercel.app/","comment":"Can only transfer DAI"},{"name":"Omnibridge","edge1":"xDai","edge2":"Binance Smart Chain","url":"https://bsc-to-xdai-omnibridge.web.app/","comment":"Wraps stablecoins. Use https://component.finance/ to unwrap"},{"name":"Binance Bridge","edge1":"Ethereum","edge2":"Binance Smart Chain","url":"https://www.binance.org/en/bridge"},{"name":"Fantom Bridge","edge1":"Fantom","edge2":"Ethereum","url":"https://bnbridge.exchange/","comment":"All bridge transactions incur a fee of 100 FTM, deducted from the transfer amount"}]')}},[[20,1,2]]]);
//# sourceMappingURL=main.877e81ee.chunk.js.map