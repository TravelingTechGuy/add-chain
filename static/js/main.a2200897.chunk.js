(this["webpackJsonpadd-network"]=this["webpackJsonpadd-network"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(6),o=n.n(a),s=(n(11),n(2)),i=n.n(s),u=n(4),l=n(3),d=n(0),h=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(void 0),o=Object(l.a)(a,2),s=o[0],h=o[1],b=Object(r.useState)(void 0),j=Object(l.a)(b,2),f=j[0],p=j[1],v=Object(r.useState)(void 0),x=Object(l.a)(v,2),w=x[0],O=x[1],m=function(){var e=Object(u.a)(i.a.mark((function e(){var t,r,c,a,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[s],r=t.chainId,c=t.name,a=t.rpc,o=t.nativeCurrency,u=t.infoURL,e.prev=1,e.next=4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat(r.toString(16)),chainName:c,rpcUrls:a,nativeCurrency:o,blockExplorerUrls:[u]}]});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),p(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://chainid.network/chains.json");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).sort((function(e,t){return e.name.localeCompare(t.name)})),c(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),p(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,r,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,t=window,r=t.ethereum){e.next=6;break}throw new Error("Please install a Web3 wallet (like Metamask)");case 6:return r.autoRefreshOnNetworkChange=!1,r.on("accountsChanged",(function(){window.location.reload()})).on("chainChanged",(function(){window.location.reload()})),e.next=10,r.request({method:"net_version"});case 10:c=e.sent,a=n.findIndex((function(e){return e.chainId===parseInt(c,10)})),O(a),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{children:"Add Chain to MetaMask"})}),Object(d.jsxs)("main",{children:[f&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{style:{background:"red",color:"white"},children:f}),Object(d.jsx)("button",{onClick:function(){return p(void 0)},children:"Clear error"})]}),Object(d.jsxs)("div",{style:{background:"blue",color:"white"},children:["Current network: ",void 0!==w?n[w].name:"Development"]}),n.length&&Object(d.jsx)("select",{onChange:function(e){return h(e.target.value)},children:n.map((function(e,t){var n=e.name,r=e.shortName;return Object(d.jsx)("option",{value:t,children:n},r)}))}),s&&Object(d.jsx)("button",{onClick:m,children:"Add selected chain"})]})]})};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a2200897.chunk.js.map